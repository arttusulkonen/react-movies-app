import React, {useState, useEffect} from 'react'import MoviesList from "../../components/movies-list";import Preloader from "../../components/preloader";import Search from '../../components/search'const API_KEY = process.env.REACT_APP_API_KEY;function Main() {  const [movies, setMovies] = useState([])  const [loading, setLoading] = useState(true)  /// старый стейт  // state = {  //     movies: [],  //     loading: true  // }  const searchMovies = (str, type = 'all') => {    setLoading(true)    fetch(`https://www.omdbapi.com/?apikey=${API_KEY}&s=${str}${type !== 'all' ? `&Type=${type}` : ''}`)      .then(res => res.json())      .then(data => {        setMovies(data.Search)        setLoading(false)      })      .catch((err) => {        console.log(err)        setLoading(false)      })  }  useEffect(() => {    fetch(`https://www.omdbapi.com/?apikey=${API_KEY}&s=matrix`)      .then(res => res.json())      .then(data => {        setMovies(data.Search);        setLoading(false)      })      .catch((err) => {        console.log(err)        setLoading(false)      })  }, [])  return (    <main className='container content'>      <Search searchMovies={searchMovies}/>      {        loading ? (<Preloader/>) : (<MoviesList movies={movies}/>)      }    </main>  )}export default Main;